2010-03-02 - Changes between 0.9.2 and 0.9.3

New features:

o anoubisd: Limit the size of policy-files which can be configured in
  anoubisd.conf(5).
o xanoubis: Implementation of client-authorization was added to xanoubis.
o xanoubis: Support for editing default policies.
o xanoubis: Provide a dialogue to generate key-pair within the GUI.
o xanoubis: comprehensive performance improvements regarding the handling
  of very large policies within xanoubis.
o xanoubis: The nosfs-flag can now be set within the RuleEditor and
  RuleWizard.
o Support for SCTP was added to apn, anoubis daemon and xanoubis.
o Support for eCryptfs was added to the Anoubis Linux kernel.
o Authentication was added in protocol version 4.

Bug fixes:

o OpenBSD: Fix OpenBSD pool allocator bug.
o OpenBSD: anoubisctl leaks the setgid status to anoubisd causing issues
  on opening /dev/eventdev
o OpenBSD kernel: Fix an OpenBSD bug that can cause crashes in namei NFS code.
o OpenBSD kernel: Fix deadlocks with vnode locks in OpenBSD.
o Kernel: Disable ANOUBIS_REQUEST_STATS ioctl for regular users.
o anoubisd: Fix memory leaks in the anoubis daemon revealed by valgrind(1)
o Fix a crash in the SHA256 calculation of libanoubissig.
o xanoubis: Fix a segfault when xanoubis gets closed while in the upgrade
  message dialogue.
o xanoubis: Change permissions of .xanoubis directory to 0700.
o xanoubis: Fix AnPickFromFS Dialogue to handle files as well as directories.
o xanoubis: Fix a segfault if a PolicyCtrl object is destroyed without an
  explicit creation.
o xanoubis: Handling of the TrayIcon exclamation mark is now correctly done
  when opening LogViewer or Notification tab
o Properly handle syssigs on !SFS_CS_OK filesystems to allow execs on dazukofs
  mounts.

Other changes:

o Limit connections per user to avoid DoS by ENFILE
o anoubisd: Enforce secure exec if the policy of a task changes during exec.
o anoubisd: The number of pending notifications per session was limited to
  avoid an out of memory DOS.
o xanoubis: Redesign of the ALF, SB and SFS overview module.
o xanoubis: Double-Clicking on an empty application rules now also opens the
  RuleEditor.
o xanoubis: A dialogue is shown to the user if a non-matching key-pair was
  detected.
o xanoubis: Redesign of the RuleEditor which now uses a grid widget.
o xanoubis: Provide better error messages if an error occurs during
  authentication.
o Linux kernel: Update to 2.6.32
o Initial implementation of a buffer overflow protection library used by
  anoubisd
o Fix quoting in APN to handle filenames containing quotes properly.
o Add README.privsep as extra dist file providing information on privilege
  separation.


2009-11-03 - Changes between 0.9.1 and 0.9.2

New features:

  o Initial support for dazukoFS: Make sure anoubisd is unaffected by dazukoFS
    and include dazukoFS in the kernel packages.
  o Handle OS upgrades correctly even if anoubisd is restarted in the process.
    This is done by delaying the restart until after the upgrade finished.
  o Anoubisctl/sfssig/xanoubis will now also log errors to the syslog that may
    be interesting for the administrator.

Bug fixes:

  o OpenBSD kernel: Fix an OpenBSD bug that can cause crashes in nfs_reply.
  o xanoubis: Fix directory path interfering with filter/invert options.
    BUG #1168
  o anoubisd/anoubisctl: Do not leak pid filehandle to childs.
  o xanoubis: Various fixes for operating at low screen resolutions. BUG #893
  o sfssig: Fix exporting of signatures.
  o anoubisd: Fix /etc/services not being available to anoubisd childs.
  o xanoubis: Fix 'Unexpected return-code: 1' error message. BUG #1373
  o xanoubis: Fix the Status field in the rule editor being updated too
    late. BUG #1369
  o xanoubis: Display correct state in Upgrade view.
  o xanoubis: Don't try to create a rule for an unknown binary after an
    ask event.
  o xanoubis: Make large SFS error messages scrollable. BUG #1352
  o Linux kernel: Fix EBADF when writing to a raw socket. This sometimes
    prevented dhclient from working.
  o sfssig: Fix 'add' failing if file is open for writing. BUG #1342
  o Linux kernel: Make sure a new file is not created if write access was
    denied.

Other changes:

  o Send upgrade-notify events to all attached UIs. Show the upgrade dialogue
    in xanoubis when such an event is received. Also use this to get rid of
    INotify.
  o xanoubis: Give a general overview message for SFS errors.
  o xanoubis: Save table column widths in xanoubis.conf.
  o xanoubis: Adjust column witdths to window/table size. BUG #1321
  o xanoubis: Create Anoubis specific MessageBox class.
  o xanoubis: Various text improvements.
  o anoubisd: Return EXDEV instead of EPERM when rename restrictions apply.
    This makes programs like mv and patch copy the file instead. BUG #1353
  o Handle mknod calls in kernel sfs and generate SFS-write events.


2009-10-12 - Changes between 0.1.10.D023.970.D170 and 0.9.1

New features:

  o Introduce version/compatibility checks between various Anoubis
    components. Introduce version numbers for various on disk file formats.
  o Add support for updating checksums / signatures after an operating
    system upgrade. For unsigned checksums, this can be done automatically.
    For signed checksums, xanoubis displays a list with the changed files.

Bug fixes:

  o Add a missing destructor for sfssubject
  o Add missing event_add in acc_flush of libanoubischat
  o Add upgrade lists to ComTask
  o Deactivate wizard if disconnected
  o Fix flex warnings caused by ununsed symbol in code generated by flex
  o Fix list perspective in notification tab
  o Fix memory leaks in apn parser
  o Fix notification bubbles for notify-osd
  o Fix segfault in checksum comparison for new context
  o Fixed creation of user application policy
  o Length verification for checksum operations
  o Prevent looping in module SFS when in recursive mode
  o Support display of ruleset that contain borrow
  o Truncated length of error message from SFS to prevent KDE Window Manager
    crash
  o Various I18N fixes

Other changes:

  o Get rid of apn_hash_type
  o Get rid of protocol family in filtspec rules
  o Get rid of state timeout in APN
  o Implement new sfs tree format
  o Add Upgrade marker to signature files on upgrade
  o Module SFS: New implementation of list operations
  o Move Checksums into a Subject in APN
  o Performance improvement of calls to SelectedItemCount
  o Performance improvement of hasSelection in AnList
  o Provide direct access to the SFS-Browser tab
  o Remove explicit checksums in policies
  o Unify the handling of configuration options by new AnConfig-class
  o Update the kernel configs with default mmap_min_addr
  o Use TimerEvent to check for Changes in menu.lst
  o anoubisctl and xanoubis now report PACKAGE_BUILD version
