.\"	$OpenBSD: mdoc.template,v 1.9 2004/07/02 10:36:57 jmc Exp $
.\"
.\" Copyright (c) 2009 GeNUA mbH <info@genua.de>
.\"
.\" All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
.\" "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
.\" LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
.\" A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
.\" OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
.\" SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
.\" TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
.\" PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
.\" LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
.\" NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
.\" SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\"
.Dd July 10, 2009
.Dt anoubisd.conf 5
.Os Anoubis
.Sh NAME
anoubisd.conf \-
.Xr anoubisd 8
configuration file
.Sh SYNOPSIS
/etc/anoubis/anoubisd.conf
.Sh DESCRIPTION
The
.Ar anoubisd.conf
file is the main configuration file for
.Xr anoubisd 8 .
The file specifies various options which are considered by the Anoubis daemon
process.
.Pp
Configuration lines are in the format
.Pp
option = value
.Pp
Lines starting with a hash mark (
.Dq #
) and empty lines are ignored. If a line ends with a backslash
.Dq \e ,
the value is continued in the next line.
.Pp
The configuration options are:
.Bl -tag -width Ds
.It \fBunixsocket\fP
Specifies the path of the Unix Domain Socket used for communication with client
utilities, such as
.Xr anoubisctl 8
or
.Xr xanoubis 1 .
The default is
.Ar /var/run/anoubisd.sock .
.It \fBupgrade_mode\fP
Specifies the method how the start and end of an upgrade is triggered.
Possible values are:
.Pp
.Ar off
The upgrade process is turned off, no upgrade is triggered by
.Xr anoubisd 8 .
.Pp
.Ar strictlock
A file gets locked by
.Xr flock 2 .
This is the time, when the upgrade begins. When the same file is unlocked
again, the upgrade is finished.
You need to configure the lockfile with the \fBupgrade_trigger\fP option.
.Pp
.Ar looselock
A file gets locked by
.Xr flock 2 .
This is the time, when the upgrade begins.
When the process, which asks for the lock, quit, the upgrade is finished.
You need to configure the lockfile with the \fBupgrade_trigger\fP option.
.Pp
.Ar process
With the start of a process the upgrade begins.
When the same process quit, the upgrade is finished.
You need to configure the name of the process-binary with the
\fBupgrade_trigger\fP option.
.Pp
The default is
.Ar off .
.It \fBupgrade_trigger\fP
This option specifies a comma-separated list of upgrade triggers.
The value highly depends on the \fBupgrade_mode\fP.
If a lock should be triggered, this option contains at least one path to a
file, which gets locked. If the life circle of a process should be triggered,
this option specifies the path to the process-binary. If more than one trigger
is assigned, only one trigger must match to trigger the upgrade process.
.Pp
By default no trigger is assigned.
.El
.Sh SEE ALSO
.Xr anoubisd 8
.Sh AUTHORS
Robin Doer
